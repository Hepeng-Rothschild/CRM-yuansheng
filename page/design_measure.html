<!-- 页面外套 -->
<div class="page-wrapper" id="design_measure">

	<!-- 数据网格 -->
	<div class="datagrid datagrid-striped" id="design_measure">

		<!-- 工具条组 -->
		<div class="tool-group">
			<div class="tool-search">
				<label><button class="btn btn-primary" id="design_measure_quantity">开始量房</button></label>
				<div class="clearfix"></div>
			</div>
		</div>
		<!-- design_measure_quantity -->
		<div class="datagrid-container"></div>
		<ul class="pager btn-mini" data-elements="prev,pages,next"></ul>
	</div>
	<!-- datagrid -->
<!-- page-wrapper -->

<script>
	$(function(){

//变量声明-----------------------------------------------------------------------------------------------
		var
				design_measure                     = $("#design_measure"),                      //页面ID
				design_measure            = $("#design_measure"),             //数据表格
				//人员选择-商务专员
				design_measure_salesman_box        = $("#design_measure_salesman_box"),         //人员选择盒子
				design_measure_salesman_submit     = $("#design_measure_salesman_submit"),      //人员选择提交
				design_measure_salesman_datagrid   = $("#design_measure_salesman_datagrid"),    //人员选择表格
				design_measure_salesman_user       = $("#design_measure_salesman_user"),        //人员选择姓名
				design_measure_salesman_depart     = $("#design_measure_salesman_depart"),      //人员选择部门
				design_measure_salesman_quantity = $("#design_measure_salesman_quantity");  //人员选择搜索

		//接口对象-----------------------------------------------------------------------------------------------
		if( window.STATE == "local" ){

			//本地接口
			var design_measure_api = {
				datagrid            : LOCAL + "Test/test_datagrid.json",                                  //数据表格
				datagrid_filelist   : LOCAL + "Test/Business/customer_filelist.json",                     //客户附件表格
				datagrid_record     : LOCAL + "Test/test_datagrid.json",                                  //操作记录表格
				datagrid_salesman   : LOCAL + "Test/test_datagrid.json",                                  //人员选择表格-商务专员

			}

		} else if ( window.STATE == "route" ){

			//本地接口
			var design_measure_api = {
				datagrid            : LOCAL + "Test/test_datagrid.json",                                  //数据表格
				datagrid_filelist   : LOCAL + "Test/Business/customer_filelist.json",                     //客户附件表格
				datagrid_record     : LOCAL + "Test/test_datagrid.json",                                  //操作记录表格
				datagrid_salesman   : LOCAL + "Test/test_datagrid.json",                                  //人员选择表格-商务专员
				datagrid_provider   : LOCAL + "Test/test_datagrid.json",                                  //人员选择表格-信息员
				select              : LOCAL + "Test/test_select.json",                                    //下拉选择
				modal_show          : LOCAL + "Test/Business/customer_edit.json",                         //查看盒子
				topic               : LOCAL + "Test/Business/provider_topic.json",                        //日志查看
			}

		}

		//数据表格-----------------------------------------------------------------------------------------------
		design_measure.datagrid({
			height      : zui_datagrid_height(design_measure),
			sortable    : false,
			cache       : false,
			showRowIndex: true,
			checkable   : true,
			checkByClickRow:false,
			selectable  : false,
			configs     : {
				R0:{className:"text-center"},
				C1:{className:"cell-hidden"}
			},
			states      : {
				pager           : {
					page        : 1,
					recPerPage  : window.REC_PER_PAGE,
				}
			},
			dataSource : {
				cols   : [
					{name:"id",      label:"ID",      width:49},
					{name:"username",label:"项目编号",width:100},
					{name:"text8",   label:"项目名称",width:150,html:true,
						valueOperator : {
							getter : function(dataValue,cell){
								return `<a class="design_measure_show_btn" rowIndex="${cell.rowIndex}">${dataValue}</a>`;
							}
						}
					},
					{name:"name",   label:"项目联系人",  width:100},
					{name:"adree",   label:"项目地址",  width:100},
					{name:"name",   label:"业务员",      width:100},
					{name:"name",   label:"设计师",      width:100},
					{name:"name",   label:"信息员",      width:100},
					{name:"state",  label:"量房状态",    width:100},
					{name:"date",   label:"量房详情",    width:100},
				],
				remote : function(){
					return {
						url     : design_measure_api.datagrid,
						type    : "POST",
						dataType: "json",
					}
				}
			}
		});

	});//预加载结尾
</script>